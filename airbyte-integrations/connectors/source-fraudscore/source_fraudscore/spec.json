{
  "documentationUrl" : "https://docs.airbyte.io/connector-development",
  "connectionSpecification" : {
    "$schema" : "http://json-schema.org/draft-07/schema#",
    "title" : "Спецификация Fraudscore",
    "type" : "object",
    "required" : [
      "channel",
      "user_key",
      "date_range"
    ],
    "additionalProperties" : false,
    "properties" : {
      "channel" : {
        "type" : "string",
        "title" : "ID канала",
        "description" : "ID канала можно найти в кабинете Fraudscore, раздел API Documentation, переменная Channel ID",
        "order" : 0
      },
      "user_key" : {
        "type" : "string",
        "title" : "API ключ",
        "description" : "API ключ канала можно найти в кабинете Fraudscore, раздел API Documentation, переменная User API Key",
        "airbyte_secret" : true,
        "order" : 1
      },
      "event_list_type" : {
        "type" : "string",
        "title" : "Тип события для стрима Events list",
        "description" : "Не обязательно при использовании других стримов",
        "enum" : [
          "install",
          "click",
          "impression",
          "custom"
        ],
        "order" : 2,
        "always_show" : true
      },
      "event_list_fields" : {
        "type" : "array",
        "title" : "Список полей для стрима Events list",
        "description" : "Не обязательно при использовании других стримов",
        "order" : 3,
        "always_show" : true,
        "examples": ["datetime", "offer_id", "affiliate_id", "ipv4_str", "ua"],
        "items" : {
          "type" : "string",
          "enum" : [
            "advertiser_id",
            "advertiser_manager_id",
            "advertiser_manager_name",
            "advertiser_name",
            "affiliate_id",
            "affiliate_manager_id",
            "affiliate_manager_name",
            "affiliate_name",
            "affiliate_payout",
            "affiliate_payout_avg",
            "affiliate_payout_currency",
            "affiliate_payout_sum",
            "affsub1",
            "affsub2",
            "affsub3",
            "affsub4",
            "affsub5",
            "android_id",
            "any_advertiser_manager_name",
            "any_advertiser_name",
            "any_affiliate_manager_name",
            "any_affiliate_name",
            "any_offer_name",
            "app_id",
            "app_name",
            "app_version",
            "at",
            "attributed_touch_type",
            "attribution_category_count",
            "attribution_category_percent",
            "attribution_category_virtual_count",
            "attribution_category_virtual_percent",
            "ban_at",
            "blacklist_category_count",
            "blacklist_category_percent",
            "blacklist_category_virtual_count",
            "blacklist_category_virtual_percent",
            "browser_family",
            "browser_family_version",
            "browser_major",
            "browser_version",
            "cap_category_count",
            "cap_category_percent",
            "cap_category_virtual_count",
            "cap_category_virtual_percent",
            "categories",
            "categories_virtual",
            "category",
            "category_virtual",
            "channel",
            "click_id",
            "cost",
            "cost_avg",
            "cost_currency",
            "cost_sum",
            "count",
            "crawler_category_count",
            "crawler_category_percent",
            "crawler_category_virtual_count",
            "crawler_category_virtual_percent",
            "datacenter_category_count",
            "datacenter_category_percent",
            "datacenter_category_virtual_count",
            "datacenter_category_virtual_percent",
            "date",
            "datetime",
            "datetime_hour",
            "device_brand",
            "device_category_count",
            "device_category_percent",
            "device_category_virtual_count",
            "device_category_virtual_percent",
            "device_family",
            "device_model",
            "dynamic_blacklist_category_count",
            "dynamic_blacklist_category_percent",
            "dynamic_blacklist_category_virtual_count",
            "dynamic_blacklist_category_virtual_percent",
            "fraud_count",
            "fraud_percent",
            "fraud_virtual_count",
            "fraud_virtual_percent",
            "funnel_id",
            "http_referer_host",
            "id",
            "id_2",
            "id_3",
            "id_xx64",
            "idfa",
            "ip",
            "ip_123",
            "ip_123_str",
            "ip_category_count",
            "ip_category_percent",
            "ip_category_virtual_count",
            "ip_category_virtual_percent",
            "ip_city",
            "ip_country_iso",
            "ip_ct",
            "ip_isp",
            "ip_lat",
            "ip_long",
            "ipv4",
            "ipv4_123_str",
            "ipv4_city",
            "ipv4_country_iso",
            "ipv4_ct",
            "ipv4_isp",
            "ipv4_lat",
            "ipv4_long",
            "ipv4_str",
            "ipv6",
            "ipv6_city",
            "ipv6_country_iso",
            "ipv6_ct",
            "ipv6_isp",
            "ipv6_lat",
            "ipv6_long",
            "name",
            "nocookie_category_count",
            "nocookie_category_percent",
            "nocookie_category_virtual_count",
            "nocookie_category_virtual_percent",
            "offer_id",
            "offer_name",
            "os_build",
            "os_category_count",
            "os_category_percent",
            "os_category_virtual_count",
            "os_category_virtual_percent",
            "os_family",
            "os_version",
            "proxy_category_count",
            "proxy_category_percent",
            "proxy_category_virtual_count",
            "proxy_category_virtual_percent",
            "reason",
            "reason_virtual",
            "reasons",
            "reasons_virtual",
            "score",
            "score_avg",
            "score_high",
            "score_low",
            "score_mid",
            "score_ok",
            "score_str",
            "score_sum",
            "score_virtual",
            "score_virtual_avg",
            "score_virtual_high",
            "score_virtual_low",
            "score_virtual_mid",
            "score_virtual_ok",
            "score_virtual_str",
            "score_virtual_sum",
            "sdk_version",
            "source",
            "source_category_count",
            "source_category_percent",
            "source_category_virtual_count",
            "source_category_virtual_percent",
            "status",
            "tti",
            "tti_group",
            "ua",
            "ua_ipv4_xx32",
            "ua_lc1",
            "ua_lc2",
            "uniq_advertiser_id",
            "uniq_advertiser_manager_id",
            "uniq_advertiser_manager_name",
            "uniq_advertiser_name",
            "uniq_affiliate_id",
            "uniq_affiliate_manager_id",
            "uniq_affiliate_manager_name",
            "uniq_affiliate_name",
            "uniq_categories",
            "uniq_categories_virtual",
            "uniq_manager_id",
            "uniq_manager_name",
            "uniq_offer_id",
            "uniq_offer_name",
            "uniq_reasons",
            "uniq_reasons_virtual",
            "unviewable_count",
            "user_id",
            "user_mail",
            "user_mail_domain",
            "user_mail_name",
            "users",
            "va_banner_height",
            "va_banner_id",
            "va_banner_width",
            "va_fstr_td",
            "va_fv_td",
            "va_s_td",
            "va_vp",
            "value",
            "viewable_count",
            "viewable_percent"
          ]
        }
      },
      "event_group_type" : {
        "type" : "string",
        "title" : "Тип события для стрима Events Group",
        "description" : "Не обязательно при использовании других стримов",
        "enum" : [
          "install",
          "click",
          "impression",
          "custom"
        ],
        "order" : 4,
        "always_show" : true
      },
      "event_group_fields" : {
        "type" : "array",
        "title" : "Список полей для стрима Events groups",
        "description" : "Список полей в группах. Не обязательно при использовании других стримов",
        "order" : 5,
        "always_show" : true,
        "examples": ["any_offer_name", "any_affiliate_name"],
        "items" : {
          "type" : "string",
          "enum" : [
            "advertiser_id",
            "advertiser_manager_id",
            "advertiser_manager_name",
            "advertiser_name",
            "affiliate_id",
            "affiliate_manager_id",
            "affiliate_manager_name",
            "affiliate_name",
            "affiliate_payout",
            "affiliate_payout_avg",
            "affiliate_payout_currency",
            "affiliate_payout_sum",
            "affsub1",
            "affsub2",
            "affsub3",
            "affsub4",
            "affsub5",
            "android_id",
            "any_advertiser_manager_name",
            "any_advertiser_name",
            "any_affiliate_manager_name",
            "any_affiliate_name",
            "any_offer_name",
            "app_id",
            "app_name",
            "app_version",
            "at",
            "attributed_touch_type",
            "attribution_category_count",
            "attribution_category_percent",
            "attribution_category_virtual_count",
            "attribution_category_virtual_percent",
            "ban_at",
            "blacklist_category_count",
            "blacklist_category_percent",
            "blacklist_category_virtual_count",
            "blacklist_category_virtual_percent",
            "browser_family",
            "browser_family_version",
            "browser_major",
            "browser_version",
            "cap_category_count",
            "cap_category_percent",
            "cap_category_virtual_count",
            "cap_category_virtual_percent",
            "categories",
            "categories_virtual",
            "category",
            "category_virtual",
            "channel",
            "click_id",
            "cost",
            "cost_avg",
            "cost_currency",
            "cost_sum",
            "count",
            "crawler_category_count",
            "crawler_category_percent",
            "crawler_category_virtual_count",
            "crawler_category_virtual_percent",
            "datacenter_category_count",
            "datacenter_category_percent",
            "datacenter_category_virtual_count",
            "datacenter_category_virtual_percent",
            "date",
            "datetime",
            "datetime_hour",
            "device_brand",
            "device_category_count",
            "device_category_percent",
            "device_category_virtual_count",
            "device_category_virtual_percent",
            "device_family",
            "device_model",
            "dynamic_blacklist_category_count",
            "dynamic_blacklist_category_percent",
            "dynamic_blacklist_category_virtual_count",
            "dynamic_blacklist_category_virtual_percent",
            "fraud_count",
            "fraud_percent",
            "fraud_virtual_count",
            "fraud_virtual_percent",
            "funnel_id",
            "http_referer_host",
            "id",
            "id_2",
            "id_3",
            "id_xx64",
            "idfa",
            "ip",
            "ip_123",
            "ip_123_str",
            "ip_category_count",
            "ip_category_percent",
            "ip_category_virtual_count",
            "ip_category_virtual_percent",
            "ip_city",
            "ip_country_iso",
            "ip_ct",
            "ip_isp",
            "ip_lat",
            "ip_long",
            "ipv4",
            "ipv4_123_str",
            "ipv4_city",
            "ipv4_country_iso",
            "ipv4_ct",
            "ipv4_isp",
            "ipv4_lat",
            "ipv4_long",
            "ipv4_str",
            "ipv6",
            "ipv6_city",
            "ipv6_country_iso",
            "ipv6_ct",
            "ipv6_isp",
            "ipv6_lat",
            "ipv6_long",
            "name",
            "nocookie_category_count",
            "nocookie_category_percent",
            "nocookie_category_virtual_count",
            "nocookie_category_virtual_percent",
            "offer_id",
            "offer_name",
            "os_build",
            "os_category_count",
            "os_category_percent",
            "os_category_virtual_count",
            "os_category_virtual_percent",
            "os_family",
            "os_version",
            "proxy_category_count",
            "proxy_category_percent",
            "proxy_category_virtual_count",
            "proxy_category_virtual_percent",
            "reason",
            "reason_virtual",
            "reasons",
            "reasons_virtual",
            "score",
            "score_avg",
            "score_high",
            "score_low",
            "score_mid",
            "score_ok",
            "score_str",
            "score_sum",
            "score_virtual",
            "score_virtual_avg",
            "score_virtual_high",
            "score_virtual_low",
            "score_virtual_mid",
            "score_virtual_ok",
            "score_virtual_str",
            "score_virtual_sum",
            "sdk_version",
            "source",
            "source_category_count",
            "source_category_percent",
            "source_category_virtual_count",
            "source_category_virtual_percent",
            "status",
            "tti",
            "tti_group",
            "ua",
            "ua_ipv4_xx32",
            "ua_lc1",
            "ua_lc2",
            "uniq_advertiser_id",
            "uniq_advertiser_manager_id",
            "uniq_advertiser_manager_name",
            "uniq_advertiser_name",
            "uniq_affiliate_id",
            "uniq_affiliate_manager_id",
            "uniq_affiliate_manager_name",
            "uniq_affiliate_name",
            "uniq_categories",
            "uniq_categories_virtual",
            "uniq_manager_id",
            "uniq_manager_name",
            "uniq_offer_id",
            "uniq_offer_name",
            "uniq_reasons",
            "uniq_reasons_virtual",
            "unviewable_count",
            "user_id",
            "user_mail",
            "user_mail_domain",
            "user_mail_name",
            "users",
            "va_banner_height",
            "va_banner_id",
            "va_banner_width",
            "va_fstr_td",
            "va_fv_td",
            "va_s_td",
            "va_vp",
            "value",
            "viewable_count",
            "viewable_percent"
          ]
        }
      },
      "event_group_groups" : {
        "type" : "array",
        "title" : "Список полей, по которым осуществляется группировка",
        "description" : "Не обязательно при использовании других стримов",
        "order" : 6,
        "always_show" : true,
        "examples": ["date", "ipv4"],
        "items" : {
          "type" : "string",
          "enum" : [
            "advertiser_id",
            "advertiser_manager_id",
            "advertiser_manager_name",
            "advertiser_name",
            "affiliate_id",
            "affiliate_manager_id",
            "affiliate_manager_name",
            "affiliate_name",
            "affiliate_payout",
            "affiliate_payout_avg",
            "affiliate_payout_currency",
            "affiliate_payout_sum",
            "affsub1",
            "affsub2",
            "affsub3",
            "affsub4",
            "affsub5",
            "android_id",
            "any_advertiser_manager_name",
            "any_advertiser_name",
            "any_affiliate_manager_name",
            "any_affiliate_name",
            "any_offer_name",
            "app_id",
            "app_name",
            "app_version",
            "at",
            "attributed_touch_type",
            "attribution_category_count",
            "attribution_category_percent",
            "attribution_category_virtual_count",
            "attribution_category_virtual_percent",
            "ban_at",
            "blacklist_category_count",
            "blacklist_category_percent",
            "blacklist_category_virtual_count",
            "blacklist_category_virtual_percent",
            "browser_family",
            "browser_family_version",
            "browser_major",
            "browser_version",
            "cap_category_count",
            "cap_category_percent",
            "cap_category_virtual_count",
            "cap_category_virtual_percent",
            "categories",
            "categories_virtual",
            "category",
            "category_virtual",
            "channel",
            "click_id",
            "cost",
            "cost_avg",
            "cost_currency",
            "cost_sum",
            "count",
            "crawler_category_count",
            "crawler_category_percent",
            "crawler_category_virtual_count",
            "crawler_category_virtual_percent",
            "datacenter_category_count",
            "datacenter_category_percent",
            "datacenter_category_virtual_count",
            "datacenter_category_virtual_percent",
            "date",
            "datetime",
            "datetime_hour",
            "device_brand",
            "device_category_count",
            "device_category_percent",
            "device_category_virtual_count",
            "device_category_virtual_percent",
            "device_family",
            "device_model",
            "dynamic_blacklist_category_count",
            "dynamic_blacklist_category_percent",
            "dynamic_blacklist_category_virtual_count",
            "dynamic_blacklist_category_virtual_percent",
            "fraud_count",
            "fraud_percent",
            "fraud_virtual_count",
            "fraud_virtual_percent",
            "funnel_id",
            "http_referer_host",
            "id",
            "id_2",
            "id_3",
            "id_xx64",
            "idfa",
            "ip",
            "ip_123",
            "ip_123_str",
            "ip_category_count",
            "ip_category_percent",
            "ip_category_virtual_count",
            "ip_category_virtual_percent",
            "ip_city",
            "ip_country_iso",
            "ip_ct",
            "ip_isp",
            "ip_lat",
            "ip_long",
            "ipv4",
            "ipv4_123_str",
            "ipv4_city",
            "ipv4_country_iso",
            "ipv4_ct",
            "ipv4_isp",
            "ipv4_lat",
            "ipv4_long",
            "ipv4_str",
            "ipv6",
            "ipv6_city",
            "ipv6_country_iso",
            "ipv6_ct",
            "ipv6_isp",
            "ipv6_lat",
            "ipv6_long",
            "name",
            "nocookie_category_count",
            "nocookie_category_percent",
            "nocookie_category_virtual_count",
            "nocookie_category_virtual_percent",
            "offer_id",
            "offer_name",
            "os_build",
            "os_category_count",
            "os_category_percent",
            "os_category_virtual_count",
            "os_category_virtual_percent",
            "os_family",
            "os_version",
            "proxy_category_count",
            "proxy_category_percent",
            "proxy_category_virtual_count",
            "proxy_category_virtual_percent",
            "reason",
            "reason_virtual",
            "reasons",
            "reasons_virtual",
            "score",
            "score_avg",
            "score_high",
            "score_low",
            "score_mid",
            "score_ok",
            "score_str",
            "score_sum",
            "score_virtual",
            "score_virtual_avg",
            "score_virtual_high",
            "score_virtual_low",
            "score_virtual_mid",
            "score_virtual_ok",
            "score_virtual_str",
            "score_virtual_sum",
            "sdk_version",
            "source",
            "source_category_count",
            "source_category_percent",
            "source_category_virtual_count",
            "source_category_virtual_percent",
            "status",
            "tti",
            "tti_group",
            "ua",
            "ua_ipv4_xx32",
            "ua_lc1",
            "ua_lc2",
            "uniq_advertiser_id",
            "uniq_advertiser_manager_id",
            "uniq_advertiser_manager_name",
            "uniq_advertiser_name",
            "uniq_affiliate_id",
            "uniq_affiliate_manager_id",
            "uniq_affiliate_manager_name",
            "uniq_affiliate_name",
            "uniq_categories",
            "uniq_categories_virtual",
            "uniq_manager_id",
            "uniq_manager_name",
            "uniq_offer_id",
            "uniq_offer_name",
            "uniq_reasons",
            "uniq_reasons_virtual",
            "unviewable_count",
            "user_id",
            "user_mail",
            "user_mail_domain",
            "user_mail_name",
            "users",
            "va_banner_height",
            "va_banner_id",
            "va_banner_width",
            "va_fstr_td",
            "va_fv_td",
            "va_s_td",
            "va_vp",
            "value",
            "viewable_count",
            "viewable_percent"
          ]
        }
      },
      "date_range" : {
        "title" : "Диапазон дат",
        "description" : "Выберите диапазон дат, за который нужно загрузить данные",
        "type" : "object",
        "order" : 4,
        "oneOf" : [
          {
            "type" : "object",
            "title" : "Пользовательский диапазон дат",
            "required" : [
              "date_from",
              "date_to",
              "date_range_type"
            ],
            "properties" : {
              "date_from" : {
                "title" : "Дата начала",
                "type" : "string",
                "description" : "Дата начала в формате YYYY-MM-DD.",
                "pattern" : "^$|^[0-9]{4}-[0-9]{2}-[0-9]{2}$",
                "pattern_descriptor" : "YYYY-MM-DD",
                "examples" : [
                  "2023-01-01"
                ],
                "format" : "date",
                "order" : 0
              },
              "date_to" : {
                "title" : "Дата окончания",
                "type" : "string",
                "description" : "Дата окончания в формате YYYY-MM-DD.",
                "pattern" : "^$|^[0-9]{4}-[0-9]{2}-[0-9]{2}$",
                "examples" : [
                  "2023-01-30"
                ],
                "pattern_descriptor" : "YYYY-MM-DD",
                "format" : "date",
                "order" : 1
              },
              "date_range_type" : {
                "type" : "string",
                "title" : "Тип диапазона дат",
                "description" : "Пользовательская дата",
                "const" : "custom_date",
                "order" : 2
              }
            }
          },
          {
            "type" : "object",
            "title" : "Последние N дней",
            "required" : [
              "last_days_count",
              "should_load_today",
              "date_range_type"
            ],
            "properties" : {
              "last_days_count" : {
                "title" : "Количество последних дней",
                "type" : "integer",
                "description" : "Количество последних дней без учёта сегодняшнего.",
                "minimum" : 0,
                "maximum" : 3650,
                "examples" : [
                  30
                ],
                "order" : 0
              },
              "should_load_today" : {
                "title" : "Загрузить сегодняшние данные?",
                "type" : "boolean",
                "description" : "Должен ли коннектор загрузить текущую дату как дату окончания? Если нет — будет использовано вчерашнее число.",
                "order" : 1,
                "default" : false
              },
              "date_range_type" : {
                "type" : "string",
                "title" : "Тип диапазона дат",
                "description" : "Последние N дней",
                "const" : "last_n_days",
                "order" : 2
              }
            }
          },
          {
            "type" : "object",
            "title" : "От даты начала до сегодня",
            "description" : "Загрузить данные от даты начала до текущей даты. Только с этим вариантом доступна инкрементальная синхронизация.",
            "required" : [
              "date_from",
              "should_load_today",
              "date_range_type"
            ],
            "properties" : {
              "date_from" : {
                "title" : "Дата начала",
                "type" : "string",
                "description" : "Дата начала в формате YYYY-MM-DD.",
                "pattern" : "^$|^[0-9]{4}-[0-9]{2}-[0-9]{2}$",
                "pattern_descriptor" : "YYYY-MM-DD",
                "examples" : [
                  "2023-01-01"
                ],
                "format" : "date",
                "order" : 0
              },
              "should_load_today" : {
                "title" : "Загрузить сегодняшние данные?",
                "type" : "boolean",
                "description" : "Должен ли коннектор загрузить сегодняшнюю дату как дату окончания? Если нет — будет использовано вчерашнее число.",
                "order" : 1,
                "default" : false
              },
              "date_range_type" : {
                "type" : "string",
                "title" : "Тип диапазона дат",
                "description" : "От даты начала до сегодня",
                "const" : "from_start_date_to_today",
                "order" : 2
              }
            }
          }
        ]
      }
    }
  }
}