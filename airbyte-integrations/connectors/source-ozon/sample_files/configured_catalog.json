{
  "streams" : [
    {
      "stream" : {
        "name" : "campaigns_report_stream",
        "json_schema" : {
          "title" : "CampaignReport",
          "type" : "object",
          "properties" : {
            "campaign_id" : {
              "title" : "Campaign Id",
              "type" : "string"
            },
            "campaign_name" : {
              "title" : "Campaign Name",
              "type" : "string"
            },
            "campaign_type" : {
              "title" : "Campaign Type",
              "type" : "string"
            },
            "report_data" : {
              "title" : "Report Data",
              "anyOf" : [
                {
                  "$ref" : "#/definitions/SearchPromoReport"
                },
                {
                  "$ref" : "#/definitions/BannerReport"
                },
                {
                  "$ref" : "#/definitions/BrandShelfReport"
                }
              ]
            }
          },
          "required" : [
            "campaign_id",
            "campaign_name",
            "campaign_type"
          ],
          "definitions" : {
            "SearchPromoReport" : {
              "title" : "SearchPromoReport",
              "type" : "object",
              "properties" : {
                "date" : {
                  "title" : "Date",
                  "description" : "\u0414\u0430\u0442\u0430",
                  "type" : "string",
                  "format" : "date"
                },
                "order_id" : {
                  "title" : "Order Id",
                  "description" : "ID \u0437\u0430\u043a\u0430\u0437\u0430",
                  "type" : "string"
                },
                "order_number" : {
                  "title" : "Order Number",
                  "description" : "\u041d\u043e\u043c\u0435\u0440 \u0437\u0430\u043a\u0430\u0437\u0430",
                  "type" : "string"
                },
                "ozon_id" : {
                  "title" : "Ozon Id",
                  "description" : "Ozon ID",
                  "type" : "string"
                },
                "promoted_product_ozon_id" : {
                  "title" : "Promoted Product Ozon Id",
                  "description" : "Ozon ID \u043f\u0440\u043e\u0434\u0432\u0438\u0433\u0430\u0435\u043c\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0430",
                  "type" : "string"
                },
                "article" : {
                  "title" : "Article",
                  "description" : "\u0410\u0440\u0442\u0438\u043a\u0443\u043b",
                  "type" : "string"
                },
                "name" : {
                  "title" : "Name",
                  "description" : "\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",
                  "type" : "string"
                },
                "quantity" : {
                  "title" : "Quantity",
                  "description" : "\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",
                  "type" : "number"
                },
                "sale_price" : {
                  "title" : "Sale Price",
                  "description" : "\u0426\u0435\u043d\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0438",
                  "type" : "number"
                },
                "price_rub" : {
                  "title" : "Price Rub",
                  "description" : "\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c, \u20bd",
                  "type" : "number"
                },
                "rate_percent" : {
                  "title" : "Rate Percent",
                  "description" : "\u0421\u0442\u0430\u0432\u043a\u0430, %",
                  "type" : "number"
                },
                "rate_rub" : {
                  "title" : "Rate Rub",
                  "description" : "\u0421\u0442\u0430\u0432\u043a\u0430, \u20bd",
                  "type" : "number"
                },
                "expense_rub" : {
                  "title" : "Expense Rub",
                  "description" : "\u0420\u0430\u0441\u0445\u043e\u0434, \u20bd",
                  "type" : "number"
                }
              }
            },
            "BannerReport" : {
              "title" : "BannerReport",
              "type" : "object",
              "properties" : {
                "banner" : {
                  "title" : "Banner",
                  "description" : "\u0411\u0430\u043d\u043d\u0435\u0440",
                  "type" : "string"
                },
                "page_type" : {
                  "title" : "Page Type",
                  "description" : "\u0422\u0438\u043f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b",
                  "type" : "string"
                },
                "impression_condition" : {
                  "title" : "Impression Condition",
                  "description" : "\u0423\u0441\u043b\u043e\u0432\u0438\u0435 \u043f\u043e\u043a\u0430\u0437\u0430",
                  "type" : "string"
                },
                "platform" : {
                  "title" : "Platform",
                  "description" : "\u041f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430",
                  "type" : "string"
                },
                "impressions" : {
                  "title" : "Impressions",
                  "description" : "\u041f\u043e\u043a\u0430\u0437\u044b",
                  "type" : "integer"
                },
                "clicks" : {
                  "title" : "Clicks",
                  "description" : "\u041a\u043b\u0438\u043a\u0438",
                  "type" : "integer"
                },
                "ctr" : {
                  "title" : "Ctr",
                  "description" : "CTR (%)",
                  "type" : "number"
                },
                "coverage" : {
                  "title" : "Coverage",
                  "description" : "\u041e\u0445\u0432\u0430\u0442",
                  "type" : "number"
                },
                "avg_price_for_1000_impressions_rub" : {
                  "title" : "Avg Price For 1000 Impressions Rub",
                  "description" : "\u0421\u0440. \u0446\u0435\u043d\u0430 1000 \u043f\u043e\u043a\u0430\u0437\u043e\u0432, \u20bd",
                  "type" : "number"
                },
                "expense_rub_with_vat" : {
                  "title" : "Expense Rub With Vat",
                  "description" : "\u0420\u0430\u0441\u0445\u043e\u0434, \u20bd, \u0441 \u041d\u0414\u0421",
                  "type" : "number"
                }
              }
            },
            "BrandShelfReport" : {
              "title" : "BrandShelfReport",
              "type" : "object",
              "properties" : {
                "condition_type" : {
                  "title" : "Condition Type",
                  "description" : "\u0422\u0438\u043f \u0443\u0441\u043b\u043e\u0432\u0438\u044f",
                  "type" : "string"
                },
                "impression_condition" : {
                  "title" : "Impression Condition",
                  "description" : "\u0423\u0441\u043b\u043e\u0432\u0438\u0435 \u043f\u043e\u043a\u0430\u0437\u0430",
                  "type" : "string"
                },
                "platform" : {
                  "title" : "Platform",
                  "description" : "\u041f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430",
                  "type" : "string"
                },
                "impressions" : {
                  "title" : "Impressions",
                  "description" : "\u041f\u043e\u043a\u0430\u0437\u044b",
                  "type" : "integer"
                },
                "clicks" : {
                  "title" : "Clicks",
                  "description" : "\u041a\u043b\u0438\u043a\u0438",
                  "type" : "integer"
                },
                "ctr" : {
                  "title" : "Ctr",
                  "description" : "CTR (%)",
                  "type" : "number"
                },
                "coverage" : {
                  "title" : "Coverage",
                  "description" : "\u041e\u0445\u0432\u0430\u0442",
                  "type" : "number"
                },
                "avg_price_for_1000_impressions_rub" : {
                  "title" : "Avg Price For 1000 Impressions Rub",
                  "description" : "\u0421\u0440. \u0446\u0435\u043d\u0430 1000 \u043f\u043e\u043a\u0430\u0437\u043e\u0432, \u20bd",
                  "type" : "number"
                },
                "expense_rub_with_vat" : {
                  "title" : "Expense Rub With Vat",
                  "description" : "\u0420\u0430\u0441\u0445\u043e\u0434, \u20bd, \u0441 \u041d\u0414\u0421",
                  "type" : "number"
                }
              }
            }
          }
        },
        "supported_sync_modes" : [
          "full_refresh"
        ]
      },
      "sync_mode" : "full_refresh",
      "destination_sync_mode" : "overwrite"
    }
  ]
}
