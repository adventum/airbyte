documentationUrl: https://docsurl.com
connectionSpecification:
  $schema: http://json-schema.org/draft-07/schema#
  title: Profitbase Spec
  type: object
  required:
    - account_number
    - api_key
  properties:
    account_number:
      type: string
      title: Номер Аккаунта ProfitBase
      description: Для корректного подключения через API, нужен номер аккаунта, который можно найти в личном кабинете
      airbyte_secret: true
      order: 0
    api_key:
      type: string
      title: API Ключ
      description: В этом поле указывается API ключ для аутентификации (Пример ключа - app-74b6b5734m56).
      airbyte_secret: true
      order: 1
    crm:
      type: string
      title: Идентификатор crm (amo или bitrix) (Стрим Statuses)
      description: Этот параметр используется для стрима Statuses. Обязателен для получения стрима Statuses
      airbyte_secret: true
      order: 2
    history_stream:
      type: object
      title: Стрим History
      description: Параметры для выгрузки данных стрима history.
      order: 3
      properties:
        property_ids:
          description: Приоритетный параметр для фильтрации по помещениям. Обязателен к заполнению, если нужно получить данные стрима History
          examples:
            - ["563563", "254524", "525245"]
          type: array
          title: Идентификаторы помещений (Стрим History)
          order: 0
        house_ids:
          type: array
          title: Идентификаторы домов (Стрим History)
          examples:
            - ["763563", "654524", "125245"]
          order: 1
        date_from:
          title: Начало периода (Стрим History)
          description: Начало периода в формате YYYY-MM-DD. Обязателен к заполнению, если нужно получить данные стрима History
          pattern: '^[0-9]{4}-[0-9]{2}-[0-9]{2}$'
          examples:
            - '2023-05-01'
          order: 2
          type: string
        date_to:
          title: Конец периода (Стрим History)
          description: Конец периода в формате YYYY-MM-DD. Обязателен к заполнению, если нужно получить данные стрима History
          pattern: '^[0-9]{4}-[0-9]{2}-[0-9]{2}$'
          examples:
            - '2023-05-02'
          order: 3
          type: string
        dealId:
          type: string
          title: ID сделки (Стрим History)
          examples:
            - '352356'
          description: Идентификатор сделки в CRM системе. Обязателен к заполнению, если нужно получить данные стрима History
          order: 4